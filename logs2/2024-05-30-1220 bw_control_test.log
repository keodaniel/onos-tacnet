2024-05-30 12:20:47,604 - INFO - Starting Bandwidth Control test at 2024-05-30-1220
2024-05-30 12:20:47,707 - INFO - ONOS Docker container is already running.
2024-05-30 12:20:48,965 - INFO - Starting Mininet topology: TC
2024-05-30 12:20:50,328 - INFO - *** Creating network
*** Adding controller
Connecting to remote controller at 172.17.0.2:6653
*** Adding hosts:
h1 h2 h3 h4 h5 h6 
*** Adding switches:
s1 s2 s3 
*** Adding links:
(h1, s1) (h2, s1) (h3, s2) (h4, s2) (h5, s3) (h6, s3) (50.00Mbit 10ms delay) *** Error: Warning: sch_htb: quantum of class 50001 is big. Consider r2q change.
(50.00Mbit 10ms delay) *** Error: Warning: sch_htb: quantum of class 50001 is big. Consider r2q change.
(s1, s2) (10.00Mbit 10ms delay) (10.00Mbit 10ms delay) (s1, s3) (5.00Mbit 10ms delay) (5.00Mbit 10ms delay) (s2, s3) 
*** Configuring hosts
h1 h2 h3 h4 h5 h6 
*** Starting controller
c0 
*** Starting 3 switches
s1 s2 s3 ...(50.00Mbit 10ms delay) *** Error: Warning: sch_htb: quantum of class 50001 is big. Consider r2q change.
(10.00Mbit 10ms delay) (50.00Mbit 10ms delay) *** Error: Warning: sch_htb: quantum of class 50001 is big. Consider r2q change.
(5.00Mbit 10ms delay) (10.00Mbit 10ms delay) (5.00Mbit 10ms delay) 
*** Starting CLI:
2024-05-30 12:20:50,401 - INFO - Meter 2 on device of:0000000000000001 deleted successfully.
2024-05-30 12:20:50,427 - INFO - Meter 3 on device of:0000000000000002 deleted successfully.
2024-05-30 12:20:50,440 - INFO - Meter 4 on device of:0000000000000002 deleted successfully.
2024-05-30 12:20:50,474 - INFO - All meters purged successfully.
2024-05-30 12:20:50,482 - INFO - All flow rules purged successfully for application keo.
2024-05-30 12:20:50,517 - INFO - Meter {'deviceId': 'of:0000000000000001', 'unit': 'KB_PER_SEC', 'bands': [{'type': 'DROP', 'rate': 3000, 'burstSize': '0'}]} posted successfully on device of:0000000000000001
2024-05-30 12:20:50,538 - INFO - Meter {'deviceId': 'of:0000000000000002', 'unit': 'KB_PER_SEC', 'bands': [{'type': 'DROP', 'rate': 1500, 'burstSize': '0'}]} posted successfully on device of:0000000000000002
2024-05-30 12:20:50,555 - INFO - Meter {'deviceId': 'of:0000000000000002', 'unit': 'KB_PER_SEC', 'bands': [{'type': 'DROP', 'rate': 1500, 'burstSize': '0'}]} posted successfully on device of:0000000000000002
2024-05-30 12:20:50,582 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 10, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000003', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 4}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 2}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.30.2/32'}, {'type': 'IPV4_DST', 'ip': '10.0.20.1/32'}]}}]}
2024-05-30 12:20:50,590 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 10, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000003', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 2}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 4}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.20.1/32'}, {'type': 'IPV4_DST', 'ip': '10.0.30.2/32'}]}}]}
2024-05-30 12:20:50,599 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 10, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000002', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 1}, {'type': 'METER', 'meterId': '3'}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 4}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.30.2/32'}, {'type': 'IPV4_DST', 'ip': '10.0.20.1/32'}]}}]}
2024-05-30 12:20:50,613 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 10, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000002', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 4}, {'type': 'METER', 'meterId': '3'}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 1}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.20.1/32'}, {'type': 'IPV4_DST', 'ip': '10.0.30.2/32'}]}}]}
2024-05-30 12:20:50,628 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 20, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000003', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 3}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 2}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.30.2/32'}, {'type': 'IPV4_DST', 'ip': '10.0.20.1/32'}, {'type': 'IP_PROTO', 'protocol': 17}]}}]}
2024-05-30 12:20:50,637 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 20, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000003', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 2}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 3}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.20.1/32'}, {'type': 'IPV4_DST', 'ip': '10.0.30.2/32'}, {'type': 'IP_PROTO', 'protocol': 17}]}}]}
2024-05-30 12:20:50,651 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 20, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000001', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 3}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 4}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.30.2/32'}, {'type': 'IPV4_DST', 'ip': '10.0.20.1/32'}, {'type': 'IP_PROTO', 'protocol': 17}]}}]}
2024-05-30 12:20:50,667 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 20, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000001', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 4}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 3}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.20.1/32'}, {'type': 'IPV4_DST', 'ip': '10.0.30.2/32'}, {'type': 'IP_PROTO', 'protocol': 17}]}}]}
2024-05-30 12:20:50,677 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 20, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000002', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 1}, {'type': 'METER', 'meterId': '4'}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 3}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.30.2/32'}, {'type': 'IPV4_DST', 'ip': '10.0.20.1/32'}, {'type': 'IP_PROTO', 'protocol': 17}]}}]}
2024-05-30 12:20:50,691 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 20, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000002', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 3}, {'type': 'METER', 'meterId': '4'}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 1}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.20.1/32'}, {'type': 'IPV4_DST', 'ip': '10.0.30.2/32'}, {'type': 'IP_PROTO', 'protocol': 17}]}}]}
2024-05-30 12:20:50,699 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 10, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000003', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 3}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 2}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.30.2/32'}, {'type': 'IPV4_DST', 'ip': '10.0.10.1/32'}]}}]}
2024-05-30 12:20:50,714 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 10, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000003', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 2}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 3}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.10.1/32'}, {'type': 'IPV4_DST', 'ip': '10.0.30.2/32'}]}}]}
2024-05-30 12:20:50,723 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 10, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000001', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 1}, {'type': 'METER', 'meterId': '2'}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 4}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.30.2/32'}, {'type': 'IPV4_DST', 'ip': '10.0.10.1/32'}]}}]}
2024-05-30 12:20:50,737 - INFO - Flow rules posted successfully for flow rule {'flows': [{'priority': 10, 'timeout': 0, 'isPermanent': 'true', 'deviceId': 'of:0000000000000001', 'treatment': {'instructions': [{'type': 'OUTPUT', 'port': 4}, {'type': 'METER', 'meterId': '2'}]}, 'selector': {'criteria': [{'type': 'IN_PORT', 'port': 1}, {'ethType': '0x800', 'type': 'ETH_TYPE'}, {'type': 'IPV4_SRC', 'ip': '10.0.10.1/32'}, {'type': 'IPV4_DST', 'ip': '10.0.30.2/32'}]}}]}
2024-05-30 12:20:55,743 - INFO - Executing Mininet command: h6 iperf3 -s &
2024-05-30 12:20:55,745 - INFO - Command h6 iperf3 -s & successful
2024-05-30 12:21:05,757 - INFO - Executing Mininet command: h3 iperf3 -c 10.0.30.2 -b 10Mbps > iperf/bw.log &
2024-05-30 12:21:05,757 - INFO - Command h3 iperf3 -c 10.0.30.2 -b 10Mbps > iperf/bw.log & successful
2024-05-30 12:21:10,759 - INFO - h3 to h6 direct iperf output
2024-05-30 12:21:10,763 - INFO - Sleeping 10 seconds before retrying to read iperf/bw.log
2024-05-30 12:21:20,767 - INFO - Found iperf Done.
2024-05-30 12:21:20,768 - INFO - Connecting to host 10.0.30.2, port 5201
2024-05-30 12:21:20,768 - INFO - [  5] local 10.0.20.1 port 52284 connected to 10.0.30.2 port 5201
2024-05-30 12:21:20,768 - INFO - [ ID] Interval           Transfer     Bitrate         Retr  Cwnd
2024-05-30 12:21:20,769 - INFO - [  5]   0.00-1.00   sec   739 KBytes  6.05 Mbits/sec   96   9.90 KBytes       
2024-05-30 12:21:20,769 - INFO - [  5]   1.00-2.00   sec   128 KBytes  1.05 Mbits/sec   28   5.66 KBytes       
2024-05-30 12:21:20,770 - INFO - [  5]   2.00-3.00   sec   128 KBytes  1.05 Mbits/sec   14   8.48 KBytes       
2024-05-30 12:21:20,770 - INFO - [  5]   3.00-4.01   sec   256 KBytes  2.08 Mbits/sec   16   4.24 KBytes       
2024-05-30 12:21:20,770 - INFO - [  5]   4.01-5.00   sec   128 KBytes  1.06 Mbits/sec   12   5.66 KBytes       
2024-05-30 12:21:20,771 - INFO - [  5]   5.00-6.00   sec   128 KBytes  1.05 Mbits/sec   13   2.83 KBytes       
2024-05-30 12:21:20,771 - INFO - [  5]   6.00-7.00   sec   256 KBytes  2.09 Mbits/sec   12   5.66 KBytes       
2024-05-30 12:21:20,771 - INFO - [  5]   7.00-8.00   sec   128 KBytes  1.05 Mbits/sec   16   5.66 KBytes       
2024-05-30 12:21:20,772 - INFO - [  5]   8.00-9.00   sec   128 KBytes  1.05 Mbits/sec   13   5.66 KBytes       
2024-05-30 12:21:20,772 - INFO - [  5]   9.00-10.00  sec   256 KBytes  2.10 Mbits/sec   16   7.07 KBytes       
2024-05-30 12:21:20,772 - INFO - - - - - - - - - - - - - - - - - - - - - - - - - -
2024-05-30 12:21:20,772 - INFO - [ ID] Interval           Transfer     Bitrate         Retr
2024-05-30 12:21:20,772 - INFO - [  5]   0.00-10.00  sec  2.22 MBytes  1.86 Mbits/sec  236             sender
2024-05-30 12:21:20,772 - INFO - [  5]   0.00-10.05  sec  1.86 MBytes  1.55 Mbits/sec                  receiver
2024-05-30 12:21:20,773 - INFO - 
2024-05-30 12:21:20,773 - INFO - iperf Done.
2024-05-30 12:21:20,773 - INFO - Executing Mininet command: h3 iperf3 -c 10.0.30.2 -u -b 10Mbps > iperf/bw.log &
2024-05-30 12:21:20,773 - INFO - Command h3 iperf3 -c 10.0.30.2 -u -b 10Mbps > iperf/bw.log & successful
2024-05-30 12:21:25,779 - INFO - h3 to h6 indirect UDP iperf output
2024-05-30 12:21:25,781 - INFO - Sleeping 10 seconds before retrying to read iperf/bw.log
2024-05-30 12:21:35,788 - INFO - Found iperf Done.
2024-05-30 12:21:35,789 - INFO - Connecting to host 10.0.30.2, port 5201
2024-05-30 12:21:35,789 - INFO - [  5] local 10.0.20.1 port 48615 connected to 10.0.30.2 port 5201
2024-05-30 12:21:35,789 - INFO - [ ID] Interval           Transfer     Bitrate         Total Datagrams
2024-05-30 12:21:35,790 - INFO - [  5]   0.00-1.00   sec  1.19 MBytes  9.98 Mbits/sec  862  
2024-05-30 12:21:35,790 - INFO - [  5]   1.00-2.00   sec  1.19 MBytes  10.0 Mbits/sec  865  
2024-05-30 12:21:35,790 - INFO - [  5]   2.00-3.00   sec  1.19 MBytes  9.99 Mbits/sec  863  
2024-05-30 12:21:35,790 - INFO - [  5]   3.00-4.00   sec  1.19 MBytes  10.0 Mbits/sec  863  
2024-05-30 12:21:35,792 - INFO - [  5]   4.00-5.00   sec  1.19 MBytes  9.99 Mbits/sec  863  
2024-05-30 12:21:35,792 - INFO - [  5]   5.00-6.00   sec  1.19 MBytes  9.99 Mbits/sec  862  
2024-05-30 12:21:35,792 - INFO - [  5]   6.00-7.00   sec  1.19 MBytes  10.0 Mbits/sec  865  
2024-05-30 12:21:35,793 - INFO - [  5]   7.00-8.00   sec  1.19 MBytes  10.0 Mbits/sec  863  
2024-05-30 12:21:35,793 - INFO - [  5]   8.00-9.00   sec  1.19 MBytes  10.0 Mbits/sec  864  
2024-05-30 12:21:35,794 - INFO - [  5]   9.00-10.00  sec  1.19 MBytes  9.99 Mbits/sec  863  
2024-05-30 12:21:35,794 - INFO - - - - - - - - - - - - - - - - - - - - - - - - - -
2024-05-30 12:21:35,794 - INFO - [ ID] Interval           Transfer     Bitrate         Jitter    Lost/Total Datagrams
2024-05-30 12:21:35,795 - INFO - [  5]   0.00-10.00  sec  11.9 MBytes  10.0 Mbits/sec  0.000 ms  0/8633 (0%)  sender
2024-05-30 12:21:35,796 - INFO - [  5]   0.00-10.06  sec  1.91 MBytes  1.59 Mbits/sec  1.579 ms  7237/8619 (84%)  receiver
2024-05-30 12:21:35,798 - INFO - 
2024-05-30 12:21:35,798 - INFO - iperf Done.
2024-05-30 12:21:35,799 - INFO - Executing Mininet command: h1 iperf3 -c 10.0.30.2 -b 10Mbps > iperf/bw.log &
2024-05-30 12:21:35,800 - INFO - Command h1 iperf3 -c 10.0.30.2 -b 10Mbps > iperf/bw.log & successful
2024-05-30 12:21:40,805 - INFO - h1 to h6 direct iperf output
2024-05-30 12:21:40,808 - INFO - Sleeping 10 seconds before retrying to read iperf/bw.log
2024-05-30 12:21:50,820 - INFO - Sleeping 10 seconds before retrying to read iperf/bw.log
2024-05-30 12:22:00,842 - INFO - Sleeping 10 seconds before retrying to read iperf/bw.log
2024-05-30 12:22:10,849 - INFO - Sleeping 10 seconds before retrying to read iperf/bw.log
2024-05-30 12:22:20,863 - INFO - Sleeping 10 seconds before retrying to read iperf/bw.log
2024-05-30 12:22:30,872 - INFO - Sleeping 10 seconds before retrying to read iperf/bw.log
2024-05-30 12:22:40,882 - INFO - Sleeping 10 seconds before retrying to read iperf/bw.log
2024-05-30 12:22:50,888 - INFO - Sleeping 10 seconds before retrying to read iperf/bw.log
2024-05-30 12:23:00,894 - INFO - Found iperf Done.
2024-05-30 12:23:00,896 - INFO - Connecting to host 10.0.30.2, port 5201
2024-05-30 12:23:00,897 - INFO - [  5] local 10.0.10.1 port 58420 connected to 10.0.30.2 port 5201
2024-05-30 12:23:00,897 - INFO - [ ID] Interval           Transfer     Bitrate         Retr  Cwnd
2024-05-30 12:23:00,897 - INFO - [  5]   0.00-1.00   sec   989 KBytes  8.10 Mbits/sec  138   15.6 KBytes       
2024-05-30 12:23:00,898 - INFO - [  5]   1.00-2.00   sec   384 KBytes  3.15 Mbits/sec   25   7.07 KBytes       
2024-05-30 12:23:00,898 - INFO - [  5]   2.00-3.00   sec   384 KBytes  3.14 Mbits/sec   20   8.48 KBytes       
2024-05-30 12:23:00,898 - INFO - [  5]   3.00-4.00   sec   384 KBytes  3.15 Mbits/sec   17   5.66 KBytes       
2024-05-30 12:23:00,899 - INFO - [  5]   4.00-5.00   sec   256 KBytes  2.10 Mbits/sec   16   9.90 KBytes       
2024-05-30 12:23:00,899 - INFO - [  5]   5.00-6.00   sec   384 KBytes  3.15 Mbits/sec   16   7.07 KBytes       
2024-05-30 12:23:00,899 - INFO - [  5]   6.00-7.01   sec   384 KBytes  3.13 Mbits/sec   12   7.07 KBytes       
2024-05-30 12:23:00,899 - INFO - [  5]   7.01-8.00   sec   384 KBytes  3.16 Mbits/sec   16   9.90 KBytes       
2024-05-30 12:23:00,899 - INFO - [  5]   8.00-9.00   sec   256 KBytes  2.10 Mbits/sec   10   8.48 KBytes       
2024-05-30 12:23:00,899 - INFO - [  5]   9.00-10.00  sec   384 KBytes  3.15 Mbits/sec   14   7.07 KBytes       
2024-05-30 12:23:00,899 - INFO - - - - - - - - - - - - - - - - - - - - - - - - - -
2024-05-30 12:23:00,899 - INFO - [ ID] Interval           Transfer     Bitrate         Retr
2024-05-30 12:23:00,899 - INFO - [  5]   0.00-10.00  sec  4.09 MBytes  3.43 Mbits/sec  284             sender
2024-05-30 12:23:00,900 - INFO - [  5]   0.00-10.05  sec  3.74 MBytes  3.12 Mbits/sec                  receiver
2024-05-30 12:23:00,900 - INFO - 
2024-05-30 12:23:00,900 - INFO - iperf Done.
2024-05-30 12:23:00,908 - INFO - {'id': '2', 'life': 121, 'packets': 2371, 'bytes': 3544257, 'referenceCount': 2, 'unit': 'KB_PER_SEC', 'burst': False, 'deviceId': 'of:0000000000000001', 'appId': 'org.onosproject.rest', 'state': 'ADDED', 'bands': [{'type': 'DROP', 'rate': 3000, 'packets': 0, 'bytes': 0, 'burstSize': 0}]}
2024-05-30 12:23:00,909 - INFO - {'id': '3', 'life': 121, 'packets': 1767, 'bytes': 2428129, 'referenceCount': 2, 'unit': 'KB_PER_SEC', 'burst': False, 'deviceId': 'of:0000000000000002', 'appId': 'org.onosproject.rest', 'state': 'ADDED', 'bands': [{'type': 'DROP', 'rate': 1500, 'packets': 0, 'bytes': 0, 'burstSize': 0}]}
2024-05-30 12:23:00,910 - INFO - {'id': '4', 'life': 121, 'packets': 8635, 'bytes': 12863262, 'referenceCount': 2, 'unit': 'KB_PER_SEC', 'burst': False, 'deviceId': 'of:0000000000000002', 'appId': 'org.onosproject.rest', 'state': 'ADDED', 'bands': [{'type': 'DROP', 'rate': 1500, 'packets': 0, 'bytes': 0, 'burstSize': 0}]}
2024-05-30 12:23:01,499 - INFO - 
*** Stopping 1 controllers
c0 
*** Stopping 9 links
.........
*** Stopping 3 switches
s1 s2 s3 
*** Stopping 6 hosts
h1 h2 h3 h4 h5 h6 
*** Done
2024-05-30 12:23:01,500 - INFO - Bandwidth Control test done, elapsed time: 0:02:13.895762
